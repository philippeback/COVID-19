---
title: "COVID Notebook"
output:
  html_document:
    df_print: paged
  html_notebook: default
---

# Data

https://github.com/CSSEGISandData/COVID-19/tree/master/csse_covid_19_data/csse_covid_19_time_series


```{r echo=TRUE}
sourceConfirmed <- "https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv"

sourceDeceased <- "https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_deaths_global.csv"

sourceRecovered <- "https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_recovered_global.csv"


dataConfirmed <- read.csv(sourceConfirmed)

dataDeceased <- read.csv(sourceDeceased)

dataRecovered <- read.csv(sourceRecovered)

#print(str(dataConfirmed))
#print(str(dataDeceased))
#print(str(dataRecovered))

```

```{r echo=TRUE}

country="Belgium"
#country="Netherlands"

dataPointsOfCountry <- function(rawDataset, countryName) {
  dataOfCountry <- rawDataset[rawDataset$Country.Region == country, ]
  dataPointsOfCountry <-  dataOfCountry[,c(4:ncol(dataOfCountry))]
  return(dataPointsOfCountry)
}
  
  
dataPointsConfirmed <- dataPointsOfCountry(dataConfirmed, country)
dataPointsDeceased <-  dataPointsOfCountry(dataDeceased, country)
dataPointsRecovered <- dataPointsOfCountry(dataRecovered, country)


cleanDate <- function(s) {
   p<-unlist(strsplit(s,"X|\\."))
   return(paste0(p[3],"/",p[2],"/20",p[4]))
}

```

# Figures

## Linear Figures

```{r Confirmed, echo=TRUE, error=TRUE}

plot(seq_along(dataPointsConfirmed),dataPointsConfirmed, xlab="days since 22/1/2020", ylab="confirmed cases", main=paste0(country, " confirmed COVID-19 cases on ",cleanDate(tail(names(dataPointsConfirmed),1))),type="l",col="dark green")


```


```{r Deceased, echo=TRUE, error=TRUE, message=TRUE, warning=TRUE}
plot(seq_along(dataPointsDeceased),dataPointsDeceased, xlab="days since 22/1/2020", ylab="deceased cases", main=paste0(country," deceased COVID-19 cases on ",cleanDate(tail(names(dataPointsDeceased),1))),type="l",col="dark red")
```
```{r Recovered, echo=TRUE, error=TRUE, message=TRUE, warning=TRUE}
plot(seq_along(dataPointsRecovered),dataPointsRecovered, xlab="days since 22/1/2020", ylab="recovered cases", main=paste0(country," recovered COVID-19 cases on ",cleanDate(tail(names(dataPointsRecovered),1))),type="l",col="orange")
```

## Logarithmic Figures

```{r Confirmed Log, echo=TRUE, error=TRUE}

plot(seq_along(dataPointsConfirmed),log(dataPointsConfirmed), xlab="days since 22/1/2020", ylab="log(confirmed cases)", main=paste0(country, " confirmed COVID-19 cases on ",cleanDate(tail(names(dataPointsConfirmed),1))),type="l",col="dark green")


```


```{r Deceased Log, echo=TRUE, error=TRUE}
plot(seq_along(dataPointsDeceased),log(dataPointsDeceased), xlab="days since 22/1/2020", ylab="log(deceased cases)", main=paste0(country, " deceased COVID-19 cases on ",cleanDate(tail(names(dataPointsDeceased),1))),type="l",col="dark red")
```


```{r Recovered Log, echo=TRUE, error=TRUE}
plot(seq_along(dataPointsRecovered),log(dataPointsRecovered), xlab="days since 22/1/2020", ylab="log(recovered cases)", main=paste0(country, " recovered COVID-19 cases on ",cleanDate(tail(names(dataPointsRecovered),1))),type="l",col="orange")
```